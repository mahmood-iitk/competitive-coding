// Problem
You are given an array ğ‘ consisting of ğ‘› integers ğ‘1,ğ‘2,â€¦,ğ‘ğ‘›. Friends asked you to make the greatest common divisor (GCD) of all numbers in the array equal to 1. In one operation, you can do the following:

    Select an arbitrary index in the array 1â‰¤ğ‘–â‰¤ğ‘›;Make ğ‘ğ‘–=gcd(ğ‘ğ‘–,ğ‘–), where gcd(ğ‘¥,ğ‘¦) denotes the GCD of integers ğ‘¥ and ğ‘¦. The cost of such an operation is ğ‘›âˆ’ğ‘–+1.

You need to find the minimum total cost of operations we need to perform so that the GCD of the all array numbers becomes equal to 1.

// Input

Each test consists of multiple test cases. The first line contains an integer ğ‘¡(1â‰¤ğ‘¡â‰¤5000) â€” the number of test cases. The description of test cases follows.

The first line of each test case contains a single integer ğ‘›(1â‰¤ğ‘›â‰¤20) â€” the length of the array.

The second line of each test case contains ğ‘› integers ğ‘1,ğ‘2,â€¦,ğ‘ğ‘› (1â‰¤ğ‘ğ‘–â‰¤109) â€” the elements of the array.

// Solution:
#include <bits/stdc++.h>

using namespace std;

int main() {
  int t;
  cin >> t;
  while (t--) {
    int n;
    cin >> n;
    vector<int> numbers(n + 1);
    for (int i = 1; i <= n; ++i) {
      cin >> numbers[i];
    }
    
    int total_gcd = numbers[1];
    for (int i = 1; i <= n; ++i) {
      total_gcd = __gcd(total_gcd, numbers[i]);
    }
    
    if (total_gcd == 1) {
      cout << "0\n";
      continue;
    }
    
    if (__gcd(total_gcd, n) == 1) {
      cout << "1\n";
      continue;
    }

    if (__gcd(total_gcd, n - 1) == 1) {
      cout << "2\n";
      continue;
    }

    cout << "3\n";
  }
  return 0;
}
